{% extends "base.html" %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-project{% endblock %}

{% block content %}
<div class="banner_image">
    <picture>
        {% image page.banner_image fill-800x400 format-jpeg as image_jpg %}
        {% image page.banner_image fill-800x400 format-webp as image_webp %}
        {% image page.banner_image fill-1600x484 format-jpeg as image_jpg_lg %}
        {% image page.banner_image fill-1600x484 format-webp as image_webp_lg %}
        {% image page.banner_image fill-1920x500 format-jpeg as image_jpg_xl %}
        {% image page.banner_image fill-1920x500 format-webp as image_webp_xl %}

        <source srcset="{{ image_webp.url }}" type="image/webp" media="(max-width: 800px)">
        <source srcset="{{ image_jpg.url }}" type="image/jpeg" media="(max-width: 800px)">

        <source srcset="{{ image_webp_lg.url }}" type="image/webp" media="(max-width: 1600px)">
        <source srcset="{{ image_jpg_lg.url }}" type="image/jpeg" media="(max-width: 1600px)">

        <source srcset="{{ image_webp_xl.url }}" type="image/webp">
        <source srcset="{{ image_jpg_xl.url }}" type="image/jpeg">


        {% image page.banner_image fill-1600x484 format-jpeg as image_base %}
        <img src="{{ image_base.url }}" alt="{{ image_base.alt }}" />
    </picture>

    <div class="header">
        <div class="container">
            <h1>{{ page.title }}</h1>
            <p>{{ page.sub_title }}</p>
        </div>
    </div>
</div>
<div class="main-body">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="slider">
                    <div class="inner">
                        {% for image in page.images.all %}
                            <input type="radio" name="slider" id="slide-{{ forloop.counter }}" {% if forloop.first %}checked{% endif %} />
                            <div class="slide slide-{{ forloop.counter }}">
                                <picture>
                                    {% image image.image fill-640x360 format-jpeg as image_jpg %}
                                    {% image image.image fill-640x360 format-webp as image_webp %}

                                    <source srcset="{{ image_webp.url }}" type="image/webp">
                                    <source srcset="{{ image_jpg.url }}" type="image/jpeg">

                                    {% image page.banner_image fill-640x360 format-jpeg as image_base %}
                                    <img src="{{ image_base.url }}" alt="{{ image_base.alt }}" />
                                </picture>
                            </div>
                        {% endfor %}
                        <div class="slide-nav">
                            {% for image in page.images.all %}
                                <label class="slide-label slide-label-{{ forloop.counter }}" for="slide-{{ forloop.counter }}">&#8226;</label>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                {{ page.body|richtext }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
